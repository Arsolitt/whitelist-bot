version: "2"
sql:
  - name: "users-sqlite"
    engine: "sqlite"
    schema: "migrations/sqlite"
    queries: "queries/sqlite"
    gen:
      go:
        emit_json_tags: true
        emit_pointers_for_null_types: true
        package: "sqlite"
        out: "internal/repository/user/sqlite"
        overrides:
          # - column: "users.created_at"
          #   go_type: "time.Time"
          # - column: "users.updated_at"
          #   go_type: "time.Time"
          - column: "users.first_name"
            go_type:
              import: "whitelist/internal/domain/user"
              type: "FirstName"
              pointer: true
          - column: "users.last_name"
            go_type:
              import: "whitelist/internal/domain/user"
              type: "LastName"
              pointer: true
          - column: "users.username"
            go_type:
              import: "whitelist/internal/domain/user"
              type: "Username"
              pointer: true
          - column: "users.telegram_id"
            go_type:
              import: "whitelist/internal/domain/user"
              type: "TelegramID"
# overrides:
#   go:
#     overrides:
#       - db_type: "uuid"
#         go_type:
#           import: "github.com/google/uuid"
#           type: "UUID"
#       - db_type: "timestamptz"
#         go_type:
#           import: "time"
#           type: "Time"
