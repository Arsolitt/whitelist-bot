# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `log/slog` (Go 1.21+).

## –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤

–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –≤ stdout —Å —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```json
{
  "time": "2024-01-01T12:00:00.000000Z",
  "level": "INFO",
  "source": {
    "function": "main.main",
    "file": "/path/to/file.go",
    "line": 42
  },
  "msg": "Message text",
  "key1": "value1",
  "key2": "value2"
}
```

## –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

- **DEBUG** - –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **INFO** - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ
- **WARN** - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
- **ERROR** - –û—à–∏–±–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —É—Ä–æ–≤–µ–Ω—å **INFO**.

## –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (main.go)

- ‚úÖ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
- ‚úÖ –ó–∞–ø—É—Å–∫ polling
- ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.go)

- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- üîç –î–ª–∏–Ω–∞ —Ç–æ–∫–µ–Ω–∞ (–±–µ–∑ —Å–∞–º–æ–≥–æ —Ç–æ–∫–µ–Ω–∞!)
- ‚ùå –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (database.go)

#### –û–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- ‚úÖ Ping –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

#### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∑–∞—è–≤–∫–∞–º–∏:
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏** - user_id, username, nickname
- ‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ pending –∑–∞—è–≤–æ–∫** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö
- ‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –ø–æ ID** - request_id, user_id, status
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞** - request_id, –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å, rows_affected
- ‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞—è–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - user_id, –Ω–∞–π–¥–µ–Ω–∞/–Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- ‚ùå **–í—Å–µ –æ—à–∏–±–∫–∏ –ë–î** —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

### –ë–æ—Ç (bot.go)

#### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ polling:
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ - username, bot_id
- ‚úÖ –ó–∞–ø—É—Å–∫ polling - timeout
- üîç –ö–∞–∂–¥–æ–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ - update_id, user_id, username

#### –î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

**–ö–æ–º–∞–Ω–¥—ã:**
- ‚úÖ **/start** - user_id, username, is_admin
- ‚úÖ **/apply** - user_id, username, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞—è–≤–∫–∞
- ‚úÖ **/status** - user_id, username, –Ω–∞–π–¥–µ–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞
- ‚úÖ **/cancel** - user_id, username, –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚ö†Ô∏è **–ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ admin-–∫–æ–º–∞–Ω–¥–∞–º** - non-admin user_id
- üîç **–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã** - command, user_id

**–ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏:**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è waiting_nickname - user_id
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∏–∫–Ω–µ–π–º–∞ - user_id, nickname, –¥–ª–∏–Ω–∞
- ‚ö†Ô∏è –ü—É—Å—Ç–æ–π –Ω–∏–∫–Ω–µ–π–º - user_id
- ‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π –Ω–∏–∫–Ω–µ–π–º - user_id, –¥–ª–∏–Ω–∞
- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –ø–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ - user_id, username, nickname
- ‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏

#### –î–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

**–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫:**
- ‚úÖ –ó–∞–ø—Ä–æ—Å —Å–ø–∏—Å–∫–∞ pending - admin_id
- ‚úÖ –ù–∞–π–¥–µ–Ω–æ pending –∑–∞—è–≤–æ–∫ - admin_id, count
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞—è–≤–∫–∏ - request_id, user_id, nickname

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫ (callback):**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ callback - callback_id, admin_id, data
- ‚ö†Ô∏è Non-admin –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å callback
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ action –∏ request_id
- ‚úÖ **–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è** - admin_id, admin_username, request_id, user_id, decision, new_status
- ‚ö†Ô∏è –ü–æ–ø—ã—Ç–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—É—é –∑–∞—è–≤–∫—É
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - request_id, user_id, decision
- ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏** - admin_id, request_id, user_id, final_status

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞ –æ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–µ - admin_id, user_id, nickname

## –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –ª–æ–≥–∞—Ö

### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã:
- `user_id` - Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `username` - Telegram username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)
- `admin_id` - Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `request_id` - ID –∑–∞—è–≤–∫–∏ –≤ –ë–î
- `chat_id` - ID —á–∞—Ç–∞ Telegram

### –°—Ç–∞—Ç—É—Å—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è:
- `status` - –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ (pending/approved/rejected)
- `decision` - –†–µ—à–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞ (approve/reject)
- `action` - –î–µ–π—Å—Ç–≤–∏–µ –∏–∑ callback (approve/reject)
- `command` - –ö–æ–º–∞–Ω–¥–∞ –±–æ—Ç–∞

### –î–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏:
- `nickname` - –ù–∏–∫–Ω–µ–π–º –∏–∑ –∑–∞—è–≤–∫–∏
- `nickname_length` - –î–ª–∏–Ω–∞ –Ω–∏–∫–Ω–µ–π–º–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:
- `error` - –¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
- `rows_affected` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –≤ –ë–î
- `count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- `is_admin` - –§–ª–∞–≥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤

### –£—Å–ø–µ—à–Ω–∞—è –ø–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏:

```json
{"time":"...","level":"INFO","msg":"User initiated whitelist application","user_id":123456,"username":"john_doe"}
{"time":"...","level":"INFO","msg":"Creating new whitelist request","user_id":123456,"username":"john_doe","nickname":"PlayerJohn"}
{"time":"...","level":"INFO","msg":"Whitelist request created successfully","request_id":42,"user_id":123456,"nickname":"PlayerJohn"}
{"time":"...","level":"INFO","msg":"Whitelist request submitted successfully","user_id":123456,"username":"john_doe","nickname":"PlayerJohn"}
{"time":"...","level":"INFO","msg":"Notifying admin about new request","admin_id":999999,"user_id":123456,"username":"john_doe","nickname":"PlayerJohn"}
```

### –û–¥–æ–±—Ä–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:

```json
{"time":"...","level":"INFO","msg":"Received callback query","callback_id":"...","user_id":999999,"username":"admin","data":"approve_42"}
{"time":"...","level":"INFO","msg":"Admin processing request","admin_id":999999,"admin_username":"admin","action":"approve","request_id":42}
{"time":"...","level":"INFO","msg":"Admin decision made","admin_id":999999,"admin_username":"admin","request_id":42,"user_id":123456,"user_username":"john_doe","nickname":"PlayerJohn","decision":"approve","new_status":"approved"}
{"time":"...","level":"INFO","msg":"Request status updated successfully","request_id":42,"status":"approved","rows_affected":1}
{"time":"...","level":"INFO","msg":"Notifying user about decision","request_id":42,"user_id":123456,"decision":"approved"}
{"time":"...","level":"INFO","msg":"Request processing completed","admin_id":999999,"request_id":42,"user_id":123456,"final_status":"approved"}
```

### –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏:

```json
{"time":"...","level":"ERROR","msg":"Failed to create request","error":"database is locked","user_id":123456,"nickname":"PlayerJohn"}
```

## –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

### –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
grep '"user_id":123456' bot.log
```

### –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫:

```bash
grep '"level":"ERROR"' bot.log
```

### –ü–æ–∏—Å–∫ —Ä–µ—à–µ–Ω–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

```bash
grep '"msg":"Admin decision made"' bot.log
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º:

```bash
# –°–∫–æ–ª—å–∫–æ –∑–∞—è–≤–æ–∫ —Å–æ–∑–¥–∞–Ω–æ
grep '"msg":"Whitelist request created successfully"' bot.log | wc -l

# –°–∫–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–æ
grep '"decision":"approve"' bot.log | wc -l

# –°–∫–æ–ª—å–∫–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
grep '"decision":"reject"' bot.log | wc -l
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å jq:

```bash
# –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∞
cat bot.log | jq 'select(.admin_id != null)'

# –í—Å–µ –æ—à–∏–±–∫–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
cat bot.log | jq 'select(.level == "ERROR")'

# –ó–∞—è–≤–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
cat bot.log | jq 'select(.user_id == 123456)'

# –¢–æ–ø —Å–∞–º—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
cat bot.log | jq -r 'select(.user_id != null) | .user_id' | sort | uniq -c | sort -rn | head
```

## –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤

### –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª:

```bash
./run.sh > bot.log 2>&1
```

### –° —Ä–æ—Ç–∞—Ü–∏–µ–π (logrotate):

```bash
./run.sh 2>&1 | tee -a bot.log
```

### Systemd (—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º):

```bash
journalctl -u whitelist-bot -f
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

1. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ ERROR –ª–æ–≥–æ–≤** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º
2. **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫** - –∞–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
3. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ user_id
4. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫ –≤ –¥–µ–Ω—å**
5. **–ü—Ä–æ—Ü–µ–Ω—Ç –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö/–æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫**

### –ê–ª–µ—Ä—Ç—ã:

- ‚ö†Ô∏è –†–æ—Å—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ ERROR –ª–æ–≥–æ–≤
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–æ–≥–æ–≤ (–±–æ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚ö†Ô∏è –ü–æ–ø—ã—Ç–∫–∏ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ admin-—Ñ—É–Ω–∫—Ü–∏—è–º
- ‚ö†Ô∏è –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –æ—à–∏–±–∫–∏ –ë–î

## –û—Ç–ª–∞–¥–∫–∞

–î–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å –≤ `main.go`:

```go
logger := slog.New(slog.NewJSONHandler(os.Stdout, &slog.HandlerOptions{
    Level: slog.LevelDebug,  // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ Debug
    AddSource: true,
}))
```

–≠—Ç–æ –≤–∫–ª—é—á–∏—Ç DEBUG –ª–æ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç:
- –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ SQL –∑–∞–ø—Ä–æ—Å–∞
- –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –î–µ—Ç–∞–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–¥–º–∏–Ω—É

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –ù–ï –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:

- ‚ùå –ü–æ–ª–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª–∏–Ω–∞)
- ‚ùå –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–∫—Ä–æ–º–µ –Ω–∏–∫–Ω–µ–π–º–∞ –≤ –∑–∞—è–≤–∫–µ)
- ‚ùå IP –∞–¥—Ä–µ—Å–∞
- ‚ùå –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ:

- ‚úÖ User ID (–ø—É–±–ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ Telegram)
- ‚úÖ Username (–ø—É–±–ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
- ‚úÖ –ù–∏–∫–Ω–µ–π–º—ã –∏–∑ –∑–∞—è–≤–æ–∫ (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã)
- ‚úÖ –î–µ–π—Å—Ç–≤–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã (–¥–ª—è –∞—É–¥–∏—Ç–∞)

## –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production:

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å centralized logging (ELK, Loki, etc.)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã
4. –†–µ–≥—É–ª—è—Ä–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å ERROR –ª–æ–≥–∏
5. –•—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏ –º–∏–Ω–∏–º—É–º 30 –¥–Ω–µ–π –¥–ª—è –∞—É–¥–∏—Ç–∞

